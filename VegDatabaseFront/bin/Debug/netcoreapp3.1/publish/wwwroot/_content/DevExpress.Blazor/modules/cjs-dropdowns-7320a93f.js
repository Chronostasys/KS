DxBlazorInternal.define("cjs-dropdowns-7320a93f.js",(function(e,t,n){e("./cjs-chunk-9eab2df8.js");var o=e("./cjs-dom-utils-b1fad850.js"),r=e("./cjs-chunk-c4d681da.js"),s=e("./cjs-chunk-95b0a0fe.js"),c=e("./cjs-chunk-ac3aa63b.js"),i=e("./cjs-chunk-98cdd37b.js");e("./cjs-chunk-e26655d2.js");var a=e("./cjs-popup-utils-0c7d618c.js"),u=0,l=1,d=[{value:0,text:""},{value:1,text:"above"},{value:2,text:"below"},{value:4,text:"top-sides"},{value:8,text:"bottom-sides"},{value:16,text:"outside-left"},{value:32,text:"outside-right"},{value:64,text:"left-sides"},{value:128,text:"right-sides"}];function v(e,t,n){for(var o=e.target;o;){if(o===t)return!1;o=o.parentElement}n&&n()}function f(e){return"none"!==e.style.display}var m="a[href], input:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex='-1'])";function h(e,t){var n,o;e===l&&(t?(n="auto",o="yes"):(n="hidden",o="no"),document.documentElement.style.overflow=n,document.body.style.overflow=n,document.body.scroll=o)}var E={Init:function(e,t,n,r){if(e=o.EnsureElement(e),t=o.EnsureElement(t),n=o.EnsureElement(n),e){if(s.DisposeEvents(e),n){var i=function(c){return v(c,e,(function(){o.elementIsInDOM(e)||s.DisposeEvents(e);var c=document.activeElement===t,i=n&&f(n);(c||i)&&r.invokeMethodAsync("OnDropDownLostFocus",t.value)}))};o.AttachEventToElement(document,c.TouchUIHelper.touchMouseDownEventName,i),s.RegisterDisposableEvents(e,(function(){o.DetachEventFromElement(document,c.TouchUIHelper.touchMouseDownEventName,i)}))}return Promise.resolve("ok")}},Dispose:function(e){return(e=o.EnsureElement(e))&&s.DisposeEvents(e),Promise.resolve("ok")},ShowAdaptiveDropdown:function(e,t,n,s,v){e=o.EnsureElement(e);var f=o.GetParentByClassName(e,n);if(f){f.querySelector("."+s);var E=document.documentElement,p=t.dialogType,g=t.alignment,j=p===l;p===u&&(0===g?o.SetPositionOfDropDown(f,e):a.show(e,f,function(e){var t="";return d.forEach((function(n){0!=(n.value&e)&&(t&&(t+=" "),t+=n.text)})),t}(g)));var b=!1;return E.addEventListener(c.TouchUIHelper.touchMouseDownEventName,D),e.addEventListener("keydown",(function(e){e.keyCode===i.Key.Esc&&w()})),e.addEventListener("focusout",(function(t){var n,o,r;b||(null===t.relatedTarget||e.contains(t.relatedTarget)?null===t.relatedTarget&&E.addEventListener("focusin",y):void((n=e.compareDocumentPosition(t.relatedTarget))&Node.DOCUMENT_POSITION_PRECEDING?(r=e.querySelectorAll(m),void((o=r[r.length-1])&&o.focus())):n&Node.DOCUMENT_POSITION_FOLLOWING&&C()))})),function(e,t,n,r){e&&t.addEventListener("touchmove",(function(e){e.srcElement===t&&e.preventDefault()}));if(r===l){var s=null;n.addEventListener("touchstart",(function(e){s=e})),n.addEventListener("touchmove",(function(e){(function(e,t){if(o.GetParentByClassName(e.srcElement,"modal-header"))return!0;var n=o.GetParentByClassName(e.srcElement,"column-chooser-elements-container"),r=o.GetParentByClassName(n,"modal-body");if(!n||!r)return!1;if(r.clientHeight>=n.clientHeight)return!0;var s=e.touches[0].pageY-t.touches[0].pageY,c=function(e){return e.getBoundingClientRect().top},i=n.querySelector(".column-chooser-element-container");if(i&&c(i)===c(r)&&s>=0&&e.cancelable)return!0;var a=function(e){return Math.round(e.getBoundingClientRect().bottom)},u=n.querySelector(".column-chooser-element-container:last-child");if(u&&a(u)===a(r)&&s<=0&&e.cancelable)return!0})(e,s)&&e.preventDefault(),s=e}))}}(j,e,f,p),r.whenDeleted(e).then((function(){k()})),h(p,!1),p===u?o.changeDom(C):(window.addEventListener("resize",N),N()),Promise.resolve()}function D(t){(!e.contains(t.srcElement)||p===l&&e===t.srcElement)&&w()}function y(t){E.removeEventListener("focusin",y),null===t.relatedTarget&&t.target&&e.contains(t.target)&&t.target.focus()}function w(){b||(b=!0,k(),v.invokeMethodAsync("CloseDialog"))}function k(){E.removeEventListener(c.TouchUIHelper.touchMouseDownEventName,D),window.removeEventListener("resize",N),h(p,!0)}function C(){var t=e.querySelector(m);t&&t.focus()}function N(){if(o.GetParentByClassName(e,"modal-dialog-owner")){var t=e.firstElementChild.classList,n=o.GetParentByClassName(e,"column-chooser-button-owner")&&function(e,t,n){if(n!==l)return;var r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),c=o.GetParentByClassName(e,"dxbs-gridview"),i=c&&c.querySelector("thead");if(!i)return;var a=i.getBoundingClientRect(),u=(a||r).bottom;if(u>.5*t.clientHeight)return u-r.top<.5*t.clientHeight?u-s.top-.5*t.clientHeight:r.top-s.top-2}(f,E,p),r=E.clientHeight>E.clientWidth?"topVertical":"topHorizontal";o.RequestAnimationFrame((function(){t.contains("topVertical")||t.contains("topHorizontal")?t.remove("transition"):t.add("transition"),n&&(E.scrollTop=n),t.remove("topVertical","topHorizontal"),t.add(r)}))}}}};n.IsDropDownVisible=f,n.OnOutsideClick=v,n.default=E}),["cjs-chunk-9eab2df8.js","cjs-dom-utils-b1fad850.js","cjs-chunk-c4d681da.js","cjs-chunk-95b0a0fe.js","cjs-chunk-ac3aa63b.js","cjs-chunk-98cdd37b.js","cjs-chunk-e26655d2.js","cjs-popup-utils-0c7d618c.js"]);
