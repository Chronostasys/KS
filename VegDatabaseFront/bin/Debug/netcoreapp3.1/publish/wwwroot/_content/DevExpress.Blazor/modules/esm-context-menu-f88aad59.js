import"./esm-chunk-eaca7b99.js";import{EnsureElement as t,AttachEventToElement as e,DetachEventFromElement as n}from"./esm-dom-utils-0302a1f6.js";import"./esm-chunk-5735fd9a.js";import{D as i,R as o}from"./esm-chunk-b0b509fc.js";function l(t,e,n){t.style.position="absolute",t.style.visibility="hidden",t.style.display="block";let i=function(t,e,n){let i=function(t){let e=t.parentNode;for(;e&&"static"==window.getComputedStyle(e).position;)e=e.parentNode;return e}(t),o=function(t){if(!t)return{X:0,Y:0};var e=t.getBoundingClientRect();return{X:e.left+pageXOffset,Y:e.top+pageYOffset}}(i),l=i.getBoundingClientRect(),s=t.getBoundingClientRect(),d=e+pageXOffset-o.X;l.left+d+s.width>=document.body.clientWidth&&(d=document.body.clientWidth-s.width-l.left-1);let u=n+pageYOffset-o.Y;l.top+u+s.height>=window.innerHeight&&(u-=s.height+1);return{X:d,Y:u}}(t,e,n);return t.style.top=i.Y+"px",t.style.left=i.X+"px",t.style.visibility="visible",!1}function s(t){t.style.display="none",r(t)}function d(t){t.invokeMethodAsync("Hide")}function u(s,u,r,c){if(!(s=t(s)))return;i(s);let f=function(t){return function(t,e,n){let i=document.getElementById(e);i.contains(t.target)||i===t.target||d(n)}(t,s.id,c)},p=function(t){return function(t,e){"Escape"===t.key&&d(e)}(t,c)};return e(document,"mousedown",f),e(document,"keydown",p),o(s,(function(){n(document,"mousedown",f),n(document,"keydown",p)})),l(s,u,r),Promise.resolve("ok")}function r(e){if(e=t(e))return i(e),Promise.resolve("ok")}function c(e,n){if(!(n=t(n)))return;n.style.visibility="hidden",n.style.display="block";let i=e.getBoundingClientRect(),o=n.getBoundingClientRect();n.style.position="absolute";let l=e.offsetTop;i.top+o.height>=window.innerHeight&&(l-=o.height+i.top+1-window.innerHeight),n.style.top=l+"px";let s=i.width;i.left+s+o.width>=document.body.clientWidth&&(s-=o.width+i.width+1),n.style.left=s+"px",n.style.visibility="visible"}const f={RenderMenu:u,Dispose:r,RenderSubMenu:c,HideMenuClientSide:s};export default f;export{r as Dispose,s as HideMenuClientSide,u as RenderMenu,c as RenderSubMenu};
