DxBlazorInternal.define("cjs-columnchooser-2895285d.js",(function(n,e,t){n("./cjs-chunk-9eab2df8.js");var o=n("./cjs-dom-utils-b1fad850.js");n("./cjs-chunk-c4d681da.js"),n("./cjs-chunk-ac3aa63b.js");var c,a,i,s,r,l,u=n("./cjs-dragAndDropHelper-eb8a15e9.js"),d=null,f=-1;function h(n,e,t){n.forEach((function(n){o.EnsureElement(n)})),i||(i=t),r||(r=e),s||(s=new Map),d||(a=new Map,d=n),d&&d.forEach((function(n){!function(n){var e=a.get(n.dataset.column);e?(n.style.visibility="",n.classList.remove("up","down","freeze")):((e=new u.DragAndDropUnit(n,n.parentNode,p,".column-chooser-drag-icon-owner")).onDragStart=j,e.onDrag=b,e.onDragCancel=y,e.onDropAnimationEnd=E,a.set(n.dataset.column,e));e.Reset()}(n)})),m(),l&&(l.parentNode.removeChild(l),l=null)}function v(n){return d.find((function(e,t,o){return function(n,e){var t=g(n);if(!t)return!1;return t.top<=e&&e<=t.bottom}(e,n.y)}))}function p(n){var e=v(n);return e?{item:e,relativeRect:g(e)}:null}function m(){if(c&&c.style){var n=a.get(c.dataset.column);n&&n.Reset(),f=-1,c.childNodes.forEach((function(n){n.style&&(n.style.visibility="")})),c=null}}function j(n){f=d.indexOf(c=n),d.forEach((function(n){n!==c&&n.classList.add("freeze")})),c.childNodes.forEach((function(n){n.style&&(n.style.visibility="hidden")}))}function g(n){var e=s.get(n);if(e)return e;var t=u.GetClientRect(n),o=u.GetClientRect(r);return e=new u.rectBlz(t.x-o.x,t.y-o.y,t.width,t.height),s.set(n,e),e}function E(n,e){d.forEach((function(n){a.get(n.dataset.column).Stop()})),l=r.cloneNode(!0),o.EraseBlazorIdentificators(l),l.style["z-index"]=2e3,r.parentNode.appendChild(l),i.invokeMethodAsync("OnElementsExchange",n.dataset.column,e.dataset.column).catch((function(n){void 0}))}function y(n){d.forEach((function(n){n.classList.remove("up","down","freeze")})),m()}function b(n,e){if(n){-1===f&&(f=d.indexOf(n));var t=v(e.centerOfDraggingObject);if(t){var o=d.indexOf(t),a=!1;d.forEach(f<o?function(n){c===n&&(a=!0),a?n.classList.add("up"):n.classList.remove("up","down"),t===n&&(a=!1)}:f>o?function(n){t===n&&(a=!0),a?n.classList.add("down"):n.classList.remove("up","down"),c===n&&(a=!1)}:function(n){n.classList.remove("up","down")})}}}function D(){d.forEach((function(n){var e,t;void((t=a.get((e=n).dataset.column))&&(a.delete(e.dataset.column),t.Dispose()))})),d=null,c=null,f=-1,r=null,s=null,a=null,i=null,l&&(l.parentNode.removeChild(l),l=null)}var w={Init:h,Dispose:D};t.Dispose=D,t.Init=h,t.default=w}),["cjs-chunk-9eab2df8.js","cjs-dom-utils-b1fad850.js","cjs-chunk-c4d681da.js","cjs-chunk-ac3aa63b.js","cjs-dragAndDropHelper-eb8a15e9.js"]);
